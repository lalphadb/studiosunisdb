MODULE UTILISATEURS â€“ Administration (rÃ´le : Admin dâ€™Ã©cole)
ğŸ¯ Objectif
Permettre Ã  lâ€™administrateur dâ€™une Ã©cole de gÃ©rer les utilisateurs liÃ©s Ã  son dojo, principalement les instructeurs et Ã©ventuellement dâ€™autres admins locaux. Ce module permet la crÃ©ation, modification, activation, dÃ©sactivation, et la gestion sÃ©curisÃ©e des accÃ¨s.

ğŸ” AccÃ¨s
RÃ´le	AccÃ¨s module utilisateurs
SuperAdmin	âœ… Tous les utilisateurs toutes Ã©coles
Admin dâ€™Ã©cole	âœ… Seulement les utilisateurs de son Ã©cole
Instructeur	âŒ Aucun accÃ¨s Ã  ce module
Membre	âŒ Aucun accÃ¨s Ã  ce module

ğŸ—‚ï¸ Champs utilisateur
Nom complet

Courriel (utilisÃ© pour la connexion)

Mot de passe

RÃ´le : admin, instructeur, membre (limitÃ© Ã  ceux autorisÃ©s pour lâ€™Ã©cole)

Ã‰cole associÃ©e (readonly pour les admins dâ€™Ã©cole)

Statut : actif, suspendu, inactif

DerniÃ¨re connexion

Date de crÃ©ation

Logs dâ€™activitÃ© (si activÃ©)

ğŸ§­ FonctionnalitÃ©s principales
âœ… En tant quâ€™Admin dâ€™Ã©cole, je peux :
ğŸ”¹ CrÃ©er un nouvel instructeur dans mon Ã©cole

ğŸ”¹ Modifier les informations (nom, rÃ´le, mot de passe)

ğŸ”¹ DÃ©sactiver / rÃ©activer un utilisateur

ğŸ”¹ RÃ©initialiser le mot de passe

ğŸ”¹ Filtrer / chercher par nom, courriel, rÃ´le ou statut

ğŸ”¹ Voir lâ€™historique de connexion (logs Laravel possibles)

ğŸ”¹ Changer le rÃ´le (dans la limite de mon Ã©cole)

ğŸ›¡ï¸ RÃ¨gles de sÃ©curitÃ©
âœ³ï¸ Aucune Ã©cole ne peut voir ou modifier les utilisateurs d'une autre Ã©cole

ğŸ” Le rÃ´le superadmin ne peut pas Ãªtre attribuÃ©/modifiÃ© par un admin dâ€™Ã©cole

âœ… Les mots de passe sont hashÃ©s (Bcrypt)

âœ… VÃ©rification email optionnelle

âœ… Gestion des permissions via Spatie Laravel-Permission

ğŸš« Impossible de supprimer le compte connectÃ© (protection admin)

ğŸ“‹ UI attendue (Interface admin)
ğŸ“Œ Table utilisateurs avec colonnes :

Nom | Courriel | RÃ´le | Statut | Actions (âœï¸ ğŸ” ğŸš«)

ğŸ“Œ Bouton + Nouvel utilisateur

ğŸ“Œ Formulaire modal :

Nom, courriel, rÃ´le, mot de passe

ğŸ“Œ Action : RÃ©initialiser mot de passe

ğŸ“Œ Action : DÃ©sactiver utilisateur

ğŸ“Œ Badge dynamique : actif / suspendu

ğŸ› ï¸ Technique
UserController avec mÃ©thodes filtrÃ©es par Ã©cole

Form UserForm avec validation :

Email unique par Ã©cole

Mot de passe â‰¥ 8 caractÃ¨res, confirmation

Formulaire sÃ©curisÃ© avec autorisation via Policies

Table users liÃ©e Ã  ecole_id

Middleware can:manage-users + Policy UserPolicy

Traitement des rÃ´les avec Spatie::assignRole()

âœ… Ã‰tapes de dÃ©veloppement
CrÃ©ation UserController (Admin scope only)

Formulaire create/edit avec validation

Policy UserPolicy par Ã©cole

Liaison dynamique Ã  lâ€™Ã©cole active

Gestion sÃ©curisÃ©e des mots de passe

Interface table utilisateurs admin

Action reset password + changer rÃ´le


