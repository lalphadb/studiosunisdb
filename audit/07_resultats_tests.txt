RAPPORT D'AUDIT - RÃ‰SULTATS DES TESTS
GÃ©nÃ©rÃ© le : Sat Jun 21 03:27:48 PM EDT 2025
==================================================
NOTE : Ce rapport indique l'Ã©tat des tests existants.
S'il n'y a pas de tests, il ne peut rien vÃ©rifier.\n

   PASS  Tests\Unit\ExampleTest
  âœ“ that true is true
Table users Ã©tendue avec les champs mÃ©tier.
Colonne 'event' ajoutÃ©e Ã  activity_log.

   FAIL  Tests\Feature\Auth\AuthenticationTest
  âœ“ login screen can be rendered                                         4.90s  
  â¨¯ users can authenticate using the login screen                        0.22s  
  âœ“ users can not authenticate with invalid password                     0.02s  
  â¨¯ users can logout                                                     0.02s  

   PASS  Tests\Feature\Auth\EmailVerificationTest
  âœ“ email verification screen can be rendered                            0.02s  
  âœ“ email can be verified                                                0.03s  
  âœ“ email is not verified with invalid hash                              0.02s  

   FAIL  Tests\Feature\Auth\PasswordConfirmationTest
  âœ“ confirm password screen can be rendered                              0.02s  
  â¨¯ password can be confirmed                                            0.02s  
  â¨¯ password is not confirmed with invalid password                      0.02s  

   FAIL  Tests\Feature\Auth\PasswordResetTest
  âœ“ reset password link screen can be rendered                           0.02s  
  â¨¯ reset password link can be requested                                 0.02s  
  â¨¯ reset password screen can be rendered                                0.02s  
  â¨¯ password can be reset with valid token                               0.02s  

   FAIL  Tests\Feature\Auth\PasswordUpdateTest
  â¨¯ password can be updated                                              0.02s  
  â¨¯ correct password must be provided to update password                 0.02s  

   FAIL  Tests\Feature\Auth\RegistrationTest
  âœ“ registration screen can be rendered                                  0.02s  
  â¨¯ new users can register                                               0.01s  

   PASS  Tests\Feature\ExampleTest
  âœ“ the application returns a successful response                        0.02s  

   FAIL  Tests\Feature\MembrePolicyTest
  â¨¯ superadmin can view all membres                                      0.02s  
  â¨¯ admin can only view own school membres                               0.01s  

   FAIL  Tests\Feature\ProfileTest
  â¨¯ profile page is displayed                                            0.27s  
  â¨¯ profile information can be updated                                   0.02s  
  â¨¯ email verification status is unchanged when the email address is unâ€¦ 0.02s  
  â¨¯ user can delete their account                                        0.02s  
  â¨¯ correct password must be provided to delete account                  0.02s  
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Auth\AuthenticationTest > users can authenticate usâ€¦   
  The user is not authenticated
Failed asserting that false is true.

  at tests/Feature/Auth/AuthenticationTest.php:29
     25â–•             'email' => $user->email,
     26â–•             'password' => 'password',
     27â–•         ]);
     28â–• 
  âœ  29â–•         $this->assertAuthenticated();
     30â–•         $response->assertRedirect(route('dashboard', absolute: false));
     31â–•     }
     32â–• 
     33â–•     public function test_users_can_not_authenticate_with_invalid_password(): void

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Auth\AuthenticationTest > users can logout             
  The user is authenticated
Failed asserting that true is false.

  at tests/Feature/Auth/AuthenticationTest.php:51
     47â–•         $user = User::factory()->create();
     48â–• 
     49â–•         $response = $this->actingAs($user)->post('/logout');
     50â–• 
  âœ  51â–•         $this->assertGuest();
     52â–•         $response->assertRedirect('/');
     53â–•     }
     54â–• }
     55â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Auth\PasswordConfirmationTest > password can be conâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 419.
Failed asserting that false is true.

  at tests/Feature/Auth/PasswordConfirmationTest.php:30
     26â–•         $response = $this->actingAs($user)->post('/confirm-password', [
     27â–•             'password' => 'password',
     28â–•         ]);
     29â–• 
  âœ  30â–•         $response->assertRedirect();
     31â–•         $response->assertSessionHasNoErrors();
     32â–•     }
     33â–• 
     34â–•     public function test_password_is_not_confirmed_with_invalid_password(): void

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Auth\PasswordConfirmationTest > password is not conâ€¦   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/Auth/PasswordConfirmationTest.php:42
     38â–•         $response = $this->actingAs($user)->post('/confirm-password', [
     39â–•             'password' => 'wrong-password',
     40â–•         ]);
     41â–• 
  âœ  42â–•         $response->assertSessionHasErrors();
     43â–•     }
     44â–• }
     45â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Auth\PasswordResetTest > reset password link can beâ€¦   
  The expected [Illuminate\Auth\Notifications\ResetPassword] notification was not sent.
Failed asserting that false is true.

  at vendor/laravel/framework/src/Illuminate/Support/Testing/Fakes/NotificationFake.php:89
     85â–•         if (is_numeric($callback)) {
     86â–•             return $this->assertSentToTimes($notifiable, $notification, $callback);
     87â–•         }
     88â–• 
  âœ  89â–•         PHPUnit::assertTrue(
     90â–•             $this->sent($notifiable, $notification, $callback)->count() > 0,
     91â–•             "The expected [{$notification}] notification was not sent."
     92â–•         );
     93â–•     }

      [2m+2 vendor frames [22m
  3   tests/Feature/Auth/PasswordResetTest.php:30

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Auth\PasswordResetTest > reset password screen canâ€¦    
  The expected [Illuminate\Auth\Notifications\ResetPassword] notification was not sent.
Failed asserting that false is true.

  at vendor/laravel/framework/src/Illuminate/Support/Testing/Fakes/NotificationFake.php:89
     85â–•         if (is_numeric($callback)) {
     86â–•             return $this->assertSentToTimes($notifiable, $notification, $callback);
     87â–•         }
     88â–• 
  âœ  89â–•         PHPUnit::assertTrue(
     90â–•             $this->sent($notifiable, $notification, $callback)->count() > 0,
     91â–•             "The expected [{$notification}] notification was not sent."
     92â–•         );
     93â–•     }

      [2m+2 vendor frames [22m
  3   tests/Feature/Auth/PasswordResetTest.php:41

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Auth\PasswordResetTest > password can be reset withâ€¦   
  The expected [Illuminate\Auth\Notifications\ResetPassword] notification was not sent.
Failed asserting that false is true.

  at vendor/laravel/framework/src/Illuminate/Support/Testing/Fakes/NotificationFake.php:89
     85â–•         if (is_numeric($callback)) {
     86â–•             return $this->assertSentToTimes($notifiable, $notification, $callback);
     87â–•         }
     88â–• 
  âœ  89â–•         PHPUnit::assertTrue(
     90â–•             $this->sent($notifiable, $notification, $callback)->count() > 0,
     91â–•             "The expected [{$notification}] notification was not sent."
     92â–•         );
     93â–•     }

      [2m+2 vendor frames [22m
  3   tests/Feature/Auth/PasswordResetTest.php:58

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Auth\PasswordUpdateTest > password can be updated      
  Expected response status code [201, 301, 302, 303, 307, 308] but received 419.
Failed asserting that false is true.

  at tests/Feature/Auth/PasswordUpdateTest.php:29
     25â–•             ]);
     26â–• 
     27â–•         $response
     28â–•             ->assertSessionHasNoErrors()
  âœ  29â–•             ->assertRedirect('/profile');
     30â–• 
     31â–•         $this->assertTrue(Hash::check('new-password', $user->refresh()->password));
     32â–•     }
     33â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Auth\PasswordUpdateTest > correct password must beâ€¦    
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/Auth/PasswordUpdateTest.php:48
     44â–•                 'password_confirmation' => 'new-password',
     45â–•             ]);
     46â–• 
     47â–•         $response
  âœ  48â–•             ->assertSessionHasErrorsIn('updatePassword', 'current_password')
     49â–•             ->assertRedirect('/profile');
     50â–•     }
     51â–• }
     52â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Auth\RegistrationTest > new users can register         
  The user is not authenticated
Failed asserting that false is true.

  at tests/Feature/Auth/RegistrationTest.php:28
     24â–•             'password' => 'password',
     25â–•             'password_confirmation' => 'password',
     26â–•         ]);
     27â–• 
  âœ  28â–•         $this->assertAuthenticated();
     29â–•         $response->assertRedirect(route('dashboard', absolute: false));
     30â–•     }
     31â–• }
     32â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\MembrePolicyTest > superadmin canâ€¦  RoleDoesNotExist   
  There is no role named `superadmin` for guard `web`.

  at vendor/spatie/laravel-permission/src/Exceptions/RoleDoesNotExist.php:11
      7â–• class RoleDoesNotExist extends InvalidArgumentException
      8â–• {
      9â–•     public static function named(string $roleName, ?string $guardName)
     10â–•     {
  âœ  11â–•         return new static(__('There is no role named `:role` for guard `:guard`.', [
     12â–•             'role' => $roleName,
     13â–•             'guard' => $guardName,
     14â–•         ]));
     15â–•     }

      [2m+7 vendor frames [22m
  8   tests/Feature/MembrePolicyTest.php:18

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\MembrePolicyTest > admin can only view own sâ€¦  Error   
  Class "Database\Factories\EcoleFactory" not found

  at vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:884
    880â–•     public static function factoryForModel(string $modelName)
    881â–•     {
    882â–•         $factory = static::resolveFactoryName($modelName);
    883â–• 
  âœ 884â–•         return $factory::new();
    885â–•     }
    886â–• 
    887â–•     /**
    888â–•      * Specify the callback that should be invoked to guess factory names based on dynamic relationship names.

      [2m+2 vendor frames [22m
  3   tests/Feature/MembrePolicyTest.php:28

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ProfileTest > profile page is displayed                
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

  at tests/Feature/ProfileTest.php:21
     17â–•         $response = $this
     18â–•             ->actingAs($user)
     19â–•             ->get('/profile');
     20â–• 
  âœ  21â–•         $response->assertOk();
     22â–•     }
     23â–• 
     24â–•     public function test_profile_information_can_be_updated(): void
     25â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ProfileTest > profile information can be updated       
  Expected response status code [201, 301, 302, 303, 307, 308] but received 419.
Failed asserting that false is true.

  at tests/Feature/ProfileTest.php:37
     33â–•             ]);
     34â–• 
     35â–•         $response
     36â–•             ->assertSessionHasNoErrors()
  âœ  37â–•             ->assertRedirect('/profile');
     38â–• 
     39â–•         $user->refresh();
     40â–• 
     41â–•         $this->assertSame('Test User', $user->name);

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ProfileTest > email verification status is unchangeâ€¦   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 419.
Failed asserting that false is true.

  at tests/Feature/ProfileTest.php:59
     55â–•             ]);
     56â–• 
     57â–•         $response
     58â–•             ->assertSessionHasNoErrors()
  âœ  59â–•             ->assertRedirect('/profile');
     60â–• 
     61â–•         $this->assertNotNull($user->refresh()->email_verified_at);
     62â–•     }
     63â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ProfileTest > user can delete their account            
  Expected response status code [201, 301, 302, 303, 307, 308] but received 419.
Failed asserting that false is true.

  at tests/Feature/ProfileTest.php:76
     72â–•             ]);
     73â–• 
     74â–•         $response
     75â–•             ->assertSessionHasNoErrors()
  âœ  76â–•             ->assertRedirect('/');
     77â–• 
     78â–•         $this->assertGuest();
     79â–•         $this->assertNull($user->fresh());
     80â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\ProfileTest > correct password must be provided toâ€¦    
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/ProfileTest.php:94
     90â–•                 'password' => 'wrong-password',
     91â–•             ]);
     92â–• 
     93â–•         $response
  âœ  94â–•             ->assertSessionHasErrorsIn('userDeletion', 'password')
     95â–•             ->assertRedirect('/profile');
     96â–• 
     97â–•         $this->assertNotNull($user->fresh());
     98â–•     }


  Tests:    17 failed, 10 passed (32 assertions)
  Duration: 5.85s

